# Change Log

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/)
and this project adheres to [Semantic Versioning](http://semver.org/).

## v0.2.0 - 2026-01-27

### Fixed
- Fixed 404 errors on aggregator links to source pages by calculating proper relative paths with `../` prefix
- Fixed 404 errors on marker links from non-root pages by calculating relative depth-based paths
- Fixed note definitions appearing as visible text in rendered HTML by reordering processing steps
- Fixed note references in headings by placing anchor spans after heading markers (`#`)
- Fixed aggregator page not being generated by adding `on_files` hook to register the page with MkDocs
- Fixed aggregator page rendering YAML frontmatter as content by removing frontmatter from generated markdown
- Fixed aggregator page showing only partial notes by regenerating content in `on_env` after all pages are processed
- Fixed note references in list items breaking list rendering by placing anchor spans after list markers

### Added
- Added support for multi-line note definitions (text can appear on line after `]:`)
- Added `source_url` field to `EditorNote` dataclass for proper URL calculation
- Added test coverage for note refs in headings and list items
- Added comprehensive documentation site with quickstart, features, and reference pages
- Added 5 integration tests that build real MkDocs sites to verify end-to-end functionality
- Added `on_files` hook to dynamically create aggregator placeholder page

### Changed
- Updated `NOTE_DEF_PATTERN` to support optional whitespace after `]:`
- Updated `get_ref_replacer()` to accept `current_page` parameter for depth calculation
- Improved processing order: definitions removed before references processed
- Changed aggregator content generation to store page reference and regenerate HTML in `on_env` after all notes collected
- Updated anchor span placement to handle headings, unordered lists, and ordered lists correctly
- Removed YAML frontmatter from aggregator markdown to prevent it being rendered as page content
- Increased test coverage to 97% (42 tests passing, including 5 integration tests)

## v0.1.0 - 2026-01-21
- Generated project from template
